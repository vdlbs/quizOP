<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>One Piece — Quiz</title>
  <style>
    body{margin:0;font-family:sans-serif;background:#0a0f1c;color:#f0f4fa}
    .wrap{max-width:900px;margin:20px auto;padding:20px}
    h1{color:#ffb400}
    .question-card{padding:16px;margin-top:16px;border-radius:8px;background:#162447;box-shadow:0 4px 12px rgba(0,0,0,.5)}
    .question-text{font-size:1.2rem;margin-bottom:12px}
    .options{display:grid;gap:10px}
    .option{padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.2);cursor:pointer;user-select:none;background:#1b2a4a;transition:background .2s}
    .option:hover{background:#243b6b}
    .option.correct{border-color:#4caf50;background:rgba(76,175,80,0.2)}
    .option.wrong{border-color:#e53935;background:rgba(229,57,53,0.2)}
    .controls{margin-top:12px;display:flex;justify-content:space-between}
    button{padding:8px 14px;border:none;border-radius:6px;font-weight:bold;cursor:pointer}
    .btn{background:#ffb400;color:#0a0f1c}
    .btn:hover{filter:brightness(1.1)}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>One Piece — Quiz</h1>
    <div id="quizArea"></div>
    <div class="controls">
      <button class="btn" onclick="prevQuestion()">Précédent</button>
      <button class="btn" onclick="nextQuestion()">Suivant</button>
    </div>
  </div>

  <script>
    const QUESTIONS=[
      {id:1,question:"Quel est le nom complet de 'Zoro' ?",options:["Roronoa Zoro","Zoro Roronoa","Roronoa Zolo","Z. Roronoa"],answer:0},
      {id:2,question:"Quel roi dirige Fish-Man Island ?",options:["Neptune","Otohime","Fischer Tiger","Arlong"],answer:0},
      {id:3,question:"Qui est le père de Luffy ?",options:["Monkey D. Dragon","Monkey D. Garp","Gol D. Roger","Shanks"],answer:0}
    ];

    let state={index:0,answers:{}};
    const area=document.getElementById('quizArea');

    function renderQuestion(){
      const q=QUESTIONS[state.index];
      const ans=state.answers[q.id];
      let html=`<div class='question-card'><div class='question-text'>${q.question}</div><div class='options'>`;
      q.options.forEach((o,i)=>{
        let cls='option';
        if(ans){
          if(i===q.answer)cls+=' correct';
          if(i===ans.selected && !ans.correct)cls+=' wrong';
        }
        html+=`<div class='${cls}' onclick='selectOption(${i})'>${String.fromCharCode(65+i)}. ${o}</div>`;
      });
      html+='</div></div>';
      area.innerHTML=html;
    }

    function selectOption(i){
      const q=QUESTIONS[state.index];
      const correct=i===q.answer;
      state.answers[q.id]={selected:i,correct};
      renderQuestion();
    }

    function nextQuestion(){if(state.index<QUESTIONS.length-1){state.index++;renderQuestion();}}
    function prevQuestion(){if(state.index>0){state.index--;renderQuestion();}}

    renderQuestion();
    window.selectOption=selectOption;
    window.nextQuestion=nextQuestion;
    window.prevQuestion=prevQuestion;
  </script>
</body>
</html>
